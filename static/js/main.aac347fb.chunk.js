(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a(4),c=a(6),r=a(5),o=a(7),i=a(0),l=a.n(i),u=a(37),m=a.n(u),h=(a(49),a(50),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("header",{className:"navbar"},l.a.createElement("div",{className:"app-name"},"Telegram"),l.a.createElement("div",{className:"chat-name"},l.a.createElement("strong",null,this.props.chatName)))}}]),t}(l.a.Component)),p=(a(51),a(52),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"chat-tab",onClick:function(){return e.props.onClick(e.props.name)}},l.a.createElement("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"Avatar"}),l.a.createElement("div",{className:"chat-tab-details"},l.a.createElement("h4",null,this.props.name),l.a.createElement("p",null,this.props.latestMessage)))}}]),t}(l.a.Component)),b=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"chat-list"},[{name:"MDP Chat",latestMessage:"End my suffering"}].map(function(t){return l.a.createElement(p,{name:t.name,latestMessage:t.latestMessage,onClick:e.props.onChatSelect})}))}}]),t}(l.a.Component),g=a(21),d=a(38),f=(a(53),a(54),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"text-box"},l.a.createElement("textarea",{value:this.props.message,onChange:this.props.onChange,placeholder:"Write a message...",rows:"3",name:"message"}),l.a.createElement("button",{onClick:this.props.onSubmit},"SEND"))}}]),t}(l.a.Component)),j=(a(55),a(56),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"message"},l.a.createElement("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"Avatar"}),l.a.createElement("div",{className:"message-content"},l.a.createElement("h4",null,this.props.user),l.a.createElement("p",null,this.props.message)))}}]),t}(l.a.Component)),O=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"chat-stream"},l.a.createElement("div",{className:"chat-stream-content",id:"chatStream"},this.props.messages.map(function(e){return l.a.createElement(j,{message:e.body,user:e.name})})))}}]),t}(l.a.Component),v=a(39),E=a.n(v),C=(a(88),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSendMessage=function(){var e={body:a.state.message,name:a.state.name};a.setState(function(t){return{messages:[].concat(Object(g.a)(t.messages),[e]),message:""}}),a.socket.emit("send",e),fetch(a.server+"/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){console.log(e)})},a.loader=function(){return a.state.loading?l.a.createElement("div",null,l.a.createElement("h2",null,"Loading...")):[l.a.createElement(O,{messages:a.state.messages}),l.a.createElement(f,{message:a.state.message,onChange:a.handleChange,onSubmit:a.handleSendMessage})]},a.state={message:"",messages:[],loading:!0},a.server="https://telegram-backend.herokuapp.com",a.socket=E()(a.server),a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.server).then(function(e){return e.json()}).then(function(t){e.setState({messages:t,loading:!1})},function(e){console.log(e)}),this.socket.on("recieving",function(t){e.setState(function(e){return{messages:[].concat(Object(g.a)(e.messages),[t])}})});var t=prompt("What is your name");this.setState({name:t})}},{key:"render",value:function(){return l.a.createElement("div",{className:"chat-area"},this.loader())}}]),t}(l.a.Component)),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).handleChatClick=function(e){a.setState({chatName:e})},a.state={chatName:""},a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(h,{chatName:this.state.chatName}),l.a.createElement("div",{className:"content"},l.a.createElement(b,{onChatSelect:this.handleChatClick}),l.a.createElement(C,null)))}}]),t}(l.a.Component),y=document.getElementById("root");m.a.render(l.a.createElement(k,null),y)},44:function(e,t,a){e.exports=a(128)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},85:function(e,t){}},[[44,1,2]]]);
//# sourceMappingURL=main.aac347fb.chunk.js.map